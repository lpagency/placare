"use strict";var getIncludeParameters=function(){var t=document.getElementsByTagName("script");return function(t){var e=new Object;if(!t)return e;for(var a=t.split(/[;&]/),r=0;r<a.length;r++){var o=a[r].split("=");if(o&&2==o.length){var i=unescape(o[0]),n=unescape(o[1]);n=n.replace(/\+/g," "),e[i]=n}}return e}(t[t.length-6].src.replace(/^[^\?]+\??/,""))};String.prototype.replaceAll=function(t,e){return this.split(t).join(e)},$(document).ready(function(){getIncludeParameters();var t="";try{t=(t=Utils.getUrlParameter("tag")).replaceAll("%20"," ")}catch(t){}$("#"+t).addClass("active"),void 0!==t&&"todos"!==t||($("#todos").addClass("active"),t=""),$(document).on("click",".subcateg",function(t){t.preventDefault(),config.tag=$(this).attr("tag"),$(".products").html(""),$(document).ecommerce("destroy"),$(document).ecommerce(config)})});var tags=[],modifyURL=function(){var t,e=[],a=!1;for(t in tags)-1===window.default_tags.indexOf(tags[t])&&(a=!0,e.push(tags[t]));a&&history.replaceState("",document.title,document.location.pathname+"?tag="+e.join(","))},drawFiltersBread=function(){var t=[];for(var e in tags)-1===window.default_tags.indexOf(tags[e])&&t.push("<div class='filter-crumb'>"+$("#"+tags[e]).attr("label")+"</div>");$(".filters-breadcrumb").html(t.join(""))},toggleTag=function(t,e){var a=tags.indexOf(t);-1===a?tags.push(t):tags.splice(a,1)},clearTagName=function(t){return t.split("-").join("").split("+").join("")},getURLFilters=function(){var t={};for(var e in tags){var a=clearTagName(tags[e]).split("_")[0];void 0===t[a]&&(t[a]=[]),t[a].push(tags[e])}var r=[];for(var o in t){var i="+"+t[o].join(",+");i=i.split("+-").join("-"),r.push(i)}return 0===r.length?"":"("+r.join("),(")+")"},reloadEcommerce=function(){window.config.tag=[window.default_tags,getURLFilters()].join(","),$(".products").html(""),$(".products").ecommerce("destroy"),$(".products").ecommerce(config),modifyURL()},loadTags=function(t){for(var e in t=null===t||""===t?[]:t.split(","))tags.push(t[e]),$("#"+t[e]).attr("checked","checked")},loadTagsFromURL=function(){var t=new URL(document.location.href);loadTags(t.searchParams.get("tag")),drawFiltersBread()},clearWhiteTags=function(){for(;-1!==tags.indexOf("");)tags.splice(tags.indexOf(""),1)};$(document).on("ready",function(){var r="random("+Math.random()+")",t=$.environmentVar("https://apibodegas.loadingplay.com/","https://apibodegas.loadingplay.com/","https://apibodegas.loadingplay.com/"),e=$.environmentVar("http://localhost:8522/","https://lpcheckout.ondev.today","https://pay.loadingplay.com"),a=$.environmentVar(53,53,53);$.environmentVar("placare","placare","placare");clearWhiteTags(),loadTagsFromURL();var o=0;window.config={app_public:a,base_url:t,products_per_page:12,tag:[window.default_tags,tags].join(","),ignore_stock:!1,infinite_scroll:!1,column:r,checkout_url:e,operator:"or",onLoad:function(t){$(".up-ex").each(function(){$(this).html($(this).html().replace("_"," "))}),0==t.length?$(".link-recargar").removeClass("hidden"):$(".link-recargar").addClass("hidden"),$(".letrero-nuevo").each(function(){-1!==$(this).attr("nuevo").search("nuevo")&&$(this).removeClass("hidden")});var e=" - "+(o+=t.length)+" Items";$(".tag-header2").html(e),$(".descuento-lis").each(function(){var t=$(this).attr("main-price"),e=$(this).attr("promotion-price");if(0!=e){var a=Math.trunc(100*(t-e)/t);$(this).removeClass("hidden"),$(this).html("("+a+"%)")}}),$(".oferta").each(function(){0!=$(this).attr("promotion-price")&&$(this).removeClass("hidden")}),$(".original-tachado").each(function(){0!=$(this).attr("promotion-price")&&$(this).removeClass("hidden")}),$(".original").each(function(){0!=$(this).attr("promotion-price")&&$(this).addClass("hidden")}),$(".letrero-sale").each(function(){0!=$(this).attr("promotion-price")&&$(this).removeClass("hidden")})}},reloadEcommerce(),$(document).on("change",".checkbox-filter",function(){var t=$(this).attr("id");toggleTag(t,$(this).is(":checked")),o=0,clearWhiteTags(),drawFiltersBread(),reloadEcommerce()}),$(document).on("click",".sort-by",function(t){t.preventDefault();var e=$(this).attr("field"),a=$(this).attr("dir");"random"===e&&(e=r),"toggle"===a&&"asc"===window.config.direction?a="desc":"toggle"===a&&"desc"===window.config.direction&&(a="asc"),window.config.column=e,window.config.direction=a,reloadEcommerce()}),$(document).on("click",".limpiar",function(t){t.preventDefault(),tags=[],o=0,$(".checkbox-filter:enabled").removeAttr("checked"),drawFiltersBread(),reloadEcommerce()}),$(document).on("click",".dropdown-filter-header",function(t){t.preventDefault();var e=$(this).attr("target");$(".dropdown-filter>div").addClass("hidden"),$("."+e).removeClass("hidden")}),$(".visible-xs").is(":visible")&&$(".filter-desktop-wrapper").remove()});