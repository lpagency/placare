"use strict";var getIncludeParameters=function(){var e=document.getElementsByTagName("script");return function(e){var t=new Object;if(!e)return t;for(var a=e.split(/[;&]/),r=0;r<a.length;r++){var o=a[r].split("=");if(o&&2==o.length){var i=unescape(o[0]),n=unescape(o[1]);n=n.replace(/\+/g," "),t[i]=n}}return t}(e[e.length-6].src.replace(/^[^\?]+\??/,""))};String.prototype.replaceAll=function(e,t){return this.split(e).join(t)},$(document).ready(function(){getIncludeParameters();var e="";try{e=(e=Utils.getUrlParameter("tag")).replaceAll("%20"," ")}catch(e){}$("#"+e).addClass("active"),void 0!==e&&"todos"!==e||($("#todos").addClass("active"),e=""),$(document).on("click",".subcateg",function(e){e.preventDefault(),config.tag=$(this).attr("tag"),$(".products").html(""),$(document).ecommerce("destroy"),$(document).ecommerce(config)})});var tags=[],modifyURL=function(){var e,t=[],a=!1;for(e in tags)-1===window.default_tags.indexOf(tags[e])&&(a=!0,t.push(tags[e]));a&&history.replaceState("",document.title,document.location.pathname+"?tag="+t.join(","))},drawFiltersBread=function(){var e=[];for(var t in tags)-1===window.default_tags.indexOf(tags[t])&&e.push("<div class='filter-crumb' >"+$("#"+tags[t]).attr("label")+"<a href='#!' tag='"+tags[t]+"' class='pull-right remove-tag' >x</a></div>");$(".filters-breadcrumb").html(e.join(""))},toggleTag=function(e,t){var a=tags.indexOf(e);-1===a?tags.push(e):tags.splice(a,1)},clearTagName=function(e){return e.split("-").join("").split("+").join("")},getURLFilters=function(){var e={};for(var t in tags){var a=clearTagName(tags[t]).split("_")[0];void 0===e[a]&&(e[a]=[]),e[a].push(tags[t])}var r=[];for(var o in e){var i="+"+e[o].join(",+");i=i.split("+-").join("-"),r.push(i)}return 0===r.length?"":"("+r.join("),(")+")"},reloadEcommerce=function(){window.config.tag=[window.default_tags,getURLFilters()].join(","),$(".products").html(""),$(".products").data("ecommerce")&&$(".products").ecommerce("destroy"),$(".products").ecommerce(config),modifyURL()},loadTags=function(e){for(var t in e=null===e||""===e?[]:e.split(","))tags.push(e[t]),$("#"+e[t]).attr("checked","checked")},loadTagsFromURL=function(){var e=new URL(document.location.href);loadTags(e.searchParams.get("tag")),drawFiltersBread()},clearWhiteTags=function(){for(;-1!==tags.indexOf("");)tags.splice(tags.indexOf(""),1)};$(document).on("ready",function(){var r="random("+Math.random()+")";clearWhiteTags(),loadTagsFromURL();var a=0;window.config={app_public:app_public,base_url:base_url,products_per_page:12,tag:[window.default_tags,tags].join(","),ignore_stock:!1,infinite_scroll:!1,column:r,checkout_url:checkout_url,operator:"or",onLoad:function(e){$(".up-ex").each(function(){$(this).html($(this).html().replace("_"," "))}),0==e.length?$(".link-recargar").removeClass("hidden"):$(".link-recargar").addClass("hidden"),$(".letrero-nuevo").each(function(){-1!==$(this).attr("nuevo").search("nuevo")&&$(this).removeClass("hidden")});var t=" - "+(a+=e.length)+" Items";$(".tag-header2").html(t),$(".descuento-lis").each(function(){var e=$(this).attr("main-price"),t=$(this).attr("promotion-price");if(0!=t){var a=Math.trunc(100*(e-t)/e);$(this).removeClass("hidden"),$(this).html("("+a+"%)")}}),$(".oferta").each(function(){0!=$(this).attr("promotion-price")&&$(this).removeClass("hidden")}),$(".original-tachado").each(function(){0!=$(this).attr("promotion-price")&&$(this).removeClass("hidden")}),$(".original").each(function(){0!=$(this).attr("promotion-price")&&$(this).addClass("hidden")}),$(".letrero-sale").each(function(){0!=$(this).attr("promotion-price")&&$(this).removeClass("hidden")})}},reloadEcommerce(),$(document).on("change",".checkbox-filter",function(){var e=$(this).attr("id");toggleTag(e,$(this).is(":checked")),a=0,clearWhiteTags(),drawFiltersBread(),reloadEcommerce()}),$(document).on("click",".sort-by",function(e){e.preventDefault();var t=$(this).attr("field"),a=$(this).attr("dir");"random"===t&&(t=r),"toggle"===a&&"asc"===window.config.direction?a="desc":"toggle"===a&&"desc"===window.config.direction&&(a="asc"),window.config.column=t,window.config.direction=a,reloadEcommerce()}),$(document).on("click",".limpiar",function(e){e.preventDefault(),tags=[],a=0,$(".checkbox-filter:enabled").removeAttr("checked"),drawFiltersBread(),reloadEcommerce()}),$(document).on("click",".dropdown-filter-header",function(e){e.preventDefault();var t=$(this).attr("target");$(".dropdown-filter>div").addClass("hidden"),$("."+t).removeClass("hidden")}),$(document).on("click",".remove-tag",function(e){e.preventDefault();var t=$(this).attr("tag");$("#"+t).removeAttr("checked"),toggleTag(t,!1),drawFiltersBread(),reloadEcommerce()}),$(".visible-xs").is(":visible")&&$(".filter-desktop-wrapper").remove()});